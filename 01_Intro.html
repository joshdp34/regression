<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>STA 3386 Regression Analysis - 1&nbsp; Introduction to Regression Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./02_Fitting.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01_Intro.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to Regression Analysis</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./"></a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_Intro.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to Regression Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_Fitting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Fitting the Simple Linear Regression Model</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_Properties.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Properties of the Least Squares Estimators and Model Assumptions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_Sampling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Sampling Distribution of the Least Squares Estimators and Testing the Slope</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_Correlation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Correlation Coefficient and the Coefficient of Determination</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_Using.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Using the Simple Linear Model</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_Checking.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Checking the Linearity and Constant Variance Assumptions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08_Checking2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Checking the Normality and Independence Assumptions and Outliers</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09_Tidymodels.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Simple Linear Regression with Tidymodels</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10_Intro_Multiple.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">An Intro to Multiple Regression</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#the-probabilistic-model" id="toc-the-probabilistic-model" class="nav-link active" data-scroll-target="#the-probabilistic-model"><span class="header-section-number">1.1</span> The Probabilistic Model</a></li>
  <li><a href="#sec-regoverview" id="toc-sec-regoverview" class="nav-link" data-scroll-target="#sec-regoverview"><span class="header-section-number">1.2</span> Overview of Regression Analysis</a></li>
  <li><a href="#collecting-the-data-for-regression" id="toc-collecting-the-data-for-regression" class="nav-link" data-scroll-target="#collecting-the-data-for-regression"><span class="header-section-number">1.3</span> Collecting the Data for Regression</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to Regression Analysis</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<blockquote class="blockquote">
<p>“Math is the logic of certainty; statistics is the logic of uncertainty.” - Joe Blitzstein</p>
</blockquote>
<section id="the-probabilistic-model" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="the-probabilistic-model"><span class="header-section-number">1.1</span> The Probabilistic Model</h2>
<p>Most students who take an intro stats course are familiar with the idea of a <em>random variable</em>. Students are usually introduced to random variables using the notation <span class="math inline">\(X\)</span>.</p>
<p>In the technical sense, capital <span class="math inline">\(X\)</span> should denote the random variable (that is, the function itself), while lowercase <span class="math inline">\(x\)</span> denotes the values of that random variable. We will be loose on that convention, so you will see the lowercase used almost extensively even when discussing the random variable itself.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Review: Random Variable
</div>
</div>
<div class="callout-body-container callout-body">
<p>A random variable is a function that assigns a numeric value to the outcomes in the sample space.</p>
</div>
</div>
<p>In regression, the random variable of interest is usually denoted as <span class="math inline">\(y\)</span>.</p>
<p>We want to predict or model (explain) this variable. Thus, we call this the <em>response</em> (or <em>dependent</em>) variable.</p>
<p>If we have measurements of this random variable, then we can express each value <span class="math inline">\(y\)</span> as the <em>mean</em> value of <span class="math inline">\(y\)</span> plus some <em>random error</em>.</p>
<p>That is, we can model the variable as <span id="eq-01_01"><span class="math display">\[
    y = E(y) + \varepsilon
\tag{1.1}\]</span></span></p>
<p>where <span class="math display">\[\begin{align*}
    y = &amp;\text{ dependent variable}\\
    E(y) =&amp; \text{ mean (or expected) value of } y\\
    \varepsilon =&amp; \text{ random error}
\end{align*}\]</span></p>
<p>This model is referred to as a <em>probabilistic</em> model for <span class="math inline">\(y\)</span>. The term “probabilistic” is used because, under certain assumptions, we can make probability-based statements about the extent of the difference between <span class="math inline">\(y\)</span> and <span class="math inline">\(E(y)\)</span>.</p>
<p>For example, we might assert that the error term, <span class="math display">\[
    \varepsilon = y - E(y)
\]</span> follows a normal distribution.</p>
<p>In practice, we will use sample data to estimate the parameters of the probabilistic model—specifically, the mean <span class="math inline">\(E(y)\)</span> and the random error <span class="math inline">\(\varepsilon\)</span>.</p>
<p>We will later discuss a common assumption in regression: that the mean error is zero.</p>
<p>In other words, <span class="math display">\[
    E(\varepsilon) = 0
\]</span></p>
<p>Given this assumption, our best estimate of <span class="math inline">\(\varepsilon\)</span> is zero. Therefore, we only need to estimate <span class="math inline">\(E(y)\)</span>.</p>
<p>The simplest method of estimating <span class="math inline">\(E(y)\)</span> is to use the sample mean of <span class="math inline">\(y\)</span> which we will denote as <span class="math display">\[\begin{align*}
    \bar y= \frac{1}{n}\sum_{i=1}^n y_i
\end{align*}\]</span></p>
<p>If we desired to predict a value of <span class="math inline">\(y\)</span>, then our best prediction would be just the sample mean: <span class="math display">\[\begin{align*}
    \hat y = \bar y
\end{align*}\]</span> where <span class="math inline">\(\hat y\)</span> denotes a predicted value of <span class="math inline">\(y\)</span>.</p>
<p>This would be the case with <em>univariate</em> data (we only have one variable in our data: <span class="math inline">\(y\)</span>).</p>
<p>Unfortunately, this simple model does not take into consideration a number of variables, called <em>independent</em> variables, that may help predict the response variable.</p>
<p>Independent variables are also called <em>predictor</em> or <em>explanatory</em> variables.</p>
<p>The process of identifying the mathematical model that describes the relationship between <span class="math inline">\(y\)</span> and a set of independent variables, and that best fits the data, is known as <em>regression analysis</em>.</p>
</section>
<section id="sec-regoverview" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="sec-regoverview"><span class="header-section-number">1.2</span> Overview of Regression Analysis</h2>
<p>We will denote the independent variables as <span class="math display">\[\begin{align*}
    x_1, x_2, \ldots, x_k
\end{align*}\]</span> where <span class="math inline">\(k\)</span> is the number of independent variables.</p>
<p>The goal of regression analysis is to create a <em>prediction equation</em> that accurately relates <span class="math inline">\(y\)</span> to independent variables, allowing us to predict <span class="math inline">\(y\)</span> for given values of <span class="math inline">\(x_1, x_2, \ldots, x_k\)</span> with minimal prediction error.</p>
<p>When predicting <span class="math inline">\(y\)</span>, we also need a measure of the <em>reliability</em> of our prediction, indicating how large the prediction error might be.</p>
<p>These elements form the core of regression analysis.</p>
<p>Beyond predicting <span class="math inline">\(y\)</span>, a regression model can also <em>estimate</em> the mean value of <span class="math inline">\(y\)</span> for specific values of <span class="math inline">\(x_1, x_2, \ldots, x_k\)</span> and explore the <em>relationship</em> between <span class="math inline">\(y\)</span> and one or more independent variables.</p>
<p>The process of regression analysis typically involves six key steps:</p>
<ol type="1">
<li>Hypothesize the form of the model for <span class="math inline">\(E(y)\)</span>.</li>
<li>Collect sample data.</li>
<li>Estimate the model’s unknown parameters using the sample data.</li>
<li>Define the probability distribution of the random error term, estimate any unknown parameters, and validate the assumptions made about this distribution.</li>
<li>Statistically assess the model’s usefulness.</li>
<li>If the model is effective, use it for prediction, estimation, and other purposes.</li>
</ol>
</section>
<section id="collecting-the-data-for-regression" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="collecting-the-data-for-regression"><span class="header-section-number">1.3</span> Collecting the Data for Regression</h2>
<p>The first step listed above will be discussed later.</p>
<p>Once you’ve proposed a model for <span class="math inline">\(E(y)\)</span>, the next step is to gather sample data to estimate the model.</p>
<p>This means collecting data on both the response variable <span class="math inline">\(y\)</span> and the independent variables <span class="math inline">\(x_1, x_2, \ldots, x_k\)</span> for each observation in your sample. In regression analysis, the sample includes data on multiple variables: <span class="math display">\[
y, x_1, x_2, \ldots, x_k
\]</span> This is known as <em>multivariate</em> data.</p>
<p>Regression data can be either observational or experimental:</p>
<p>For <em>observational data</em> no control is exerted over the independent variables (<span class="math inline">\(x\)</span>’s). For example, recording people’s ages and their corresponding blood pressure levels without influencing either.</p>
<p>For <em>experimental data</em> the independent variables are controlled or manipulated. For instance, setting different fertilizer amounts for crops to observe the impact on growth.</p>
<p>Suppose you want to model a student’s annual GPA (<span class="math inline">\(y\)</span>). One approach is to randomly select a sample of <span class="math inline">\(n=100\)</span> students and record their GPA along with the values of each predictor variable.</p>
<p>Data for the first three students in the sample are shown in <a href="#tbl-table1">Table&nbsp;<span>1.1</span></a>.</p>
<div id="tbl-table1" class="anchored">
<table class="table">
<caption>Table&nbsp;1.1: Values of the response variable and predictor variables for the first three students.</caption>
<thead>
<tr class="header">
<th></th>
<th>Student 1</th>
<th>Student 2</th>
<th>Student 3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Annual GPA <span class="math inline">\(y\)</span></td>
<td>3.8</td>
<td>2.7</td>
<td>3.5</td>
</tr>
<tr class="even">
<td>Study Hours per Week, <span class="math inline">\(x_1\)</span></td>
<td>15</td>
<td>5</td>
<td>10</td>
</tr>
<tr class="odd">
<td>Class Attendance, <span class="math inline">\(x_2\)</span> (days)</td>
<td>30</td>
<td>20</td>
<td>25</td>
</tr>
<tr class="even">
<td>Extracurriculars, <span class="math inline">\(x_3\)</span></td>
<td>2</td>
<td>1</td>
<td>3</td>
</tr>
<tr class="odd">
<td>Age, <span class="math inline">\(x_4\)</span> (years)</td>
<td>21</td>
<td>19</td>
<td>22</td>
</tr>
<tr class="even">
<td>Employed, <span class="math inline">\(x_5\)</span> (1 if yes, 0 if no)</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td>Lives On Campus, <span class="math inline">\(x_6\)</span> (1 if yes, 0 if no)</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p>In this example, the <span class="math inline">\(x\)</span> values, like study hours, class attendance, and extracurricular activities, are not predetermined before observing GPA <span class="math inline">\(y\)</span>; thus, the <span class="math inline">\(x\)</span> values are uncontrolled. Therefore, the sample data are observational.</p>
<section id="determining-sample-size-for-regression-with-observational-data" class="level4">
<h4 class="anchored" data-anchor-id="determining-sample-size-for-regression-with-observational-data">Determining Sample Size for Regression with Observational Data</h4>
<p>When applying regression to observational data, the required sample size for estimating the mean <span class="math inline">\(E(y)\)</span> depends on three key factors:</p>
<ul>
<li>Estimated population standard deviation</li>
<li>Confidence level</li>
<li>Desired margin of error (half-width of the confidence interval)</li>
</ul>
<p>However, unlike the univariate case, <span class="math inline">\(E(y)\)</span> is modeled as a function of multiple independent variables, which adds complexity. The sample size must be large enough to estimate and test all parameters in the model.</p>
<p>To ensure a sufficient sample size, a common guideline is to select a sample size <span class="math inline">\(n\)</span> that is at least 10 times the number of parameters in the model.</p>
<p>For instance, if a university registrar’s office uses the following model for the annual GPA <span class="math inline">\(y\)</span> of a current student:</p>
<p><span class="math display">\[E(y) = \beta_0 + \beta_1 x_1 + \beta_2 x_2 + \cdots + \beta_6 x_6\]</span></p>
<p>where <span class="math inline">\(x_1, x_2, \dots, x_6\)</span> are defined in <a href="#tbl-table1">Table&nbsp;<span>1.1</span></a>, the model includes six <span class="math inline">\(\beta\)</span> parameters (excluding <span class="math inline">\(\beta_0\)</span>). Therefore, they should include at least:</p>
<p><span class="math display">\[ 10 \times 6 = 60 \]</span></p>
<p>students in the sample.</p>
</section>
<section id="experimental-data" class="level4">
<h4 class="anchored" data-anchor-id="experimental-data">Experimental Data</h4>
<p>The second type of data in regression, <em>experimental</em> data, is generated through designed experiments where the independent variables are <em>set</em> in advance (i.e., controlled) before observing the value of <span class="math inline">\(y\)</span>.</p>
<p>For instance, consider a scenario where a researcher wants to study the effect of two independent variables—say, fertilizer amount <span class="math inline">\(x_1\)</span> and irrigation level <span class="math inline">\(x_2\)</span>—on the growth rate <span class="math inline">\(y\)</span> of plants. The researcher could choose three levels of fertilizer (10g, 20g, and 30g) and three levels of irrigation (1L, 2L, and 3L) and measure the growth rate in one plant for each of the <span class="math inline">\(3\times 3=9\)</span> fertilizer–irrigation combinations (see <a href="#tbl-table1_2">Table&nbsp;<span>1.2</span></a> below).</p>
<div id="tbl-table1_2" class="anchored">
<table class="table">
<caption>Table&nbsp;1.2: Values of the response variable and two independent variables for the growth rate of plants.</caption>
<thead>
<tr class="header">
<th>Fertilizer, <span class="math inline">\(x_1\)</span></th>
<th>Irrigation, <span class="math inline">\(x_2\)</span></th>
<th>Growth Rate, <span class="math inline">\(y\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>10g</td>
<td>1L</td>
<td>5.2</td>
</tr>
<tr class="even">
<td>10g</td>
<td>2L</td>
<td>6.1</td>
</tr>
<tr class="odd">
<td>10g</td>
<td>3L</td>
<td>5.8</td>
</tr>
<tr class="even">
<td>20g</td>
<td>1L</td>
<td>7.0</td>
</tr>
<tr class="odd">
<td>20g</td>
<td>2L</td>
<td>7.5</td>
</tr>
<tr class="even">
<td>20g</td>
<td>3L</td>
<td>7.3</td>
</tr>
<tr class="odd">
<td>30g</td>
<td>1L</td>
<td>8.4</td>
</tr>
<tr class="even">
<td>30g</td>
<td>2L</td>
<td>8.7</td>
</tr>
<tr class="odd">
<td>30g</td>
<td>3L</td>
<td>8.1</td>
</tr>
</tbody>
</table>
</div>
<p>In this experiment, the settings of the independent variables are <em>controlled</em>, in contrast to the uncontrolled nature of observational data, like in the real estate sales example.</p>
<p>In many studies, it is often not possible to control the values of the <span class="math inline">\(x\)</span>’s, so most data collected for regression are <em>observational</em>.</p>
<p>So, why do we differentiate between these two types of data? We will learn that inferences from regression studies based on observational data have more <em>limitations</em> than those based on experimental data. Specifically, establishing a <em>cause-and-effect</em> relationship between variables is much more challenging with observational data than with experimental data.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Introduction</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./02_Fitting.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Fitting the Simple Linear Regression Model</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">STA 3386</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">Fall 2024</div>
  </div>
</footer>



</body></html>